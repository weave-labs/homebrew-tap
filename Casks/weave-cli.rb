# This file was generated by GoReleaser. DO NOT EDIT.
cask "weave-cli" do
  version "1.5.21"

  name "weave-cli"
  desc "CLI tool for generating API tests from OpenAPI specifications using LLMs"
  homepage "https://github.com/weave-labs/weave-cli"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "wv"
  bash_completion "completions/wv.bash"
  fish_completion "completions/wv.fish"
  zsh_completion "completions/wv.zsh"

  on_macos do
    on_intel do
      sha256 "c4e772daf0ccf414b5a5863578a6be8b7c683a3fea04648b25bd9e0de3beebde"
      url "https://github.com/weave-labs/weave-cli/releases/download/v#{version}/wv_#{version}_darwin_amd64.tar.gz"
    end
    on_arm do
      sha256 "5540bb9bc12e0a8d33205ab455ab1c5d651ea58db47e1b6ec310ec632c83ee3e"
      url "https://github.com/weave-labs/weave-cli/releases/download/v#{version}/wv_#{version}_darwin_arm64.tar.gz"
    end
  end

  on_linux do
    on_intel do
      sha256 "ac3ec631caf4f33ec500a27bb17d7295a1f719549a8ab3ad2829d4abe7664ecc"
      url "https://github.com/weave-labs/weave-cli/releases/download/v#{version}/wv_#{version}_linux_amd64.tar.gz"
    end
    on_arm do
      sha256 "7ede3a64618b7489e8b556e12cd3758208b94efcd29e7a10fc0565feccdcbc8c"
      url "https://github.com/weave-labs/weave-cli/releases/download/v#{version}/wv_#{version}_linux_arm64.tar.gz"
    end
  end

  postflight do
    if system_command("/usr/bin/xattr", args: ["-h"]).exit_status.zero?
      system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/wv"]
    end
  end

  # No zap stanza required
end
